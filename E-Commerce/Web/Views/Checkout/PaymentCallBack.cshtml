@using Web.Models.Momo
@model MomoExecuteResponseModel
@{
    ViewData["Title"] = "Thanh toán thành công";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="payment-success-page">
    <div class="container">
        <div class="payment-card">
            <!-- Animation Success Icon -->
            <div class="success-animation">
                <div class="checkmark-circle">
                    <div class="background"></div>
                    <div class="checkmark draw"></div>
                </div>
            </div>

            <!-- Header -->
            <div class="payment-header">
                <h1>Thanh toán thành công!</h1>
                <p class="subtitle">Cảm ơn bạn đã sử dụng dịch vụ của chúng tôi</p>
            </div>

            <!-- Transaction Details -->
            <div class="transaction-details">
                <div class="payment-method">
                    <div class="method-icon">
                        <img src="/images/momo-logo.png" alt="MoMo" onerror="this.src='/api/placeholder/50/50'; this.alt='MoMo';">
                    </div>
                    <div class="method-info">
                        <div class="method-label">Phương thức thanh toán</div>
                        <div class="method-value">MoMo E-wallet</div>
                    </div>
                </div>

                <div class="detail-divider"></div>

                <div class="transaction-info">
                    <div class="info-row">
                        <div class="info-label">Mã đơn hàng</div>
                        <div class="info-value order-id">@Model.OrderId</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Tên người thanh toán</div>
                        <div class="info-value">@Model.FullName</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Mô tả đơn hàng</div>
                        <div class="info-value order-info">@Model.OrderInfo</div>
                    </div>
                    <div class="info-row amount">
                        <div class="info-label">Tổng tiền thanh toán</div>
                        <div class="info-value">@String.Format("{0:n0}", Model.Amount) VNĐ</div>
                    </div>
                </div>

                <div class="detail-divider"></div>

                <div class="transaction-status">
                    <div class="status-icon">
                        <i class="fa fa-check-circle"></i>
                    </div>
                    <div class="status-info">
                        <div class="status-label">Trạng thái thanh toán</div>
                        <div class="status-value">Đã thanh toán</div>
                    </div>
                    <div class="timestamp">
                        <div class="time-label">Thời gian</div>
                        <div class="time-value">@DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss")</div>
                    </div>
                </div>
            </div>

            <!-- Receipt -->
            <div class="receipt">
                <div class="receipt-header">
                    <div class="receipt-title">Hóa đơn điện tử</div>
                    <div class="receipt-id">
                        <span>ID:</span>
                        <span class="id-value">@Model.OrderId</span>
                    </div>
                </div>

                <div class="receipt-body">
                    <div class="barcode">
                        <!-- Barcode placeholder -->
                        <div class="barcode-img"></div>
                        <div class="barcode-text">@Model.OrderId</div>
                    </div>

                    <div class="qr-note">
                        <p>Hóa đơn điện tử đã được gửi đến email của bạn</p>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <a asp-controller="Account" asp-action="History" class="btn btn-primary">
                    <i class="fa fa-history"></i>
                    <span>Xem lịch sử đơn hàng</span>
                </a>
                <a asp-controller="Home" asp-action="Index" class="btn btn-secondary">
                    <i class="fa fa-home"></i>
                    <span>Về trang chủ</span>
                </a>
            </div>
        </div>
    </div>
</div>

@section Css {
   <link href="/backends/payment/style.css" rel="stylesheet" />
}